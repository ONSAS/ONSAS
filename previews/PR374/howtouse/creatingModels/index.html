<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Creating Models · ONSAS.m</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><script src="../../../copy.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="ONSAS.m logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">ONSAS.m</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Learning by examples</span><ul><li><a class="tocitem" href="../../staticVonMisesTruss/">Static Von-Mises Truss</a></li><li><a class="tocitem" href="../../uniaxialExtension/">Uniaxial extension</a></li><li><a class="tocitem" href="../../cantileverBeam/">Cantilever Beam</a></li></ul></li><li><span class="tocitem">User guide</span><ul><li><a class="tocitem" href="../install/">Installation</a></li><li class="is-active"><a class="tocitem" href>Creating Models</a><ul class="internal"><li><a class="tocitem" href="#The-materials-struct"><span>The <code>materials</code> struct</span></a></li><li><a class="tocitem" href="#The-elements-struct"><span>The <code>elements</code> struct</span></a></li><li><a class="tocitem" href="#The-boundaryConds-struct"><span>The <code>boundaryConds</code> struct</span></a></li><li><a class="tocitem" href="#The-initialConds-struct"><span>The <code>initialConds</code> struct</span></a></li><li><a class="tocitem" href="#The-mesh-struct"><span>The <code>mesh</code> struct</span></a></li><li><a class="tocitem" href="#The-analysisSettings-struct"><span>The <code>analysisSettings</code> struct</span></a></li><li><a class="tocitem" href="#The-otherParams-struct"><span>The <code>otherParams</code> struct</span></a></li></ul></li><li><a class="tocitem" href="../../corotationalFrameElement/">Corotational frame</a></li><li><a class="tocitem" href="../../theory/references/">References</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">User guide</a></li><li class="is-active"><a href>Creating Models</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Creating Models</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/ONSAS/ONSAS.m/blob/master/docs/src/howtouse/creatingModels.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Creating-structural-models"><a class="docs-heading-anchor" href="#Creating-structural-models">Creating structural models</a><a id="Creating-structural-models-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-structural-models" title="Permalink"></a></h1><p>The data and properties of each structural model are defined through a set of definitions in a .m script. These properties are stored in <a href="https://octave.org/doc/v5.2.0/Structures.html#Structures">struct</a> data structures. The following structs must be defined and provided as input to the ONSAS function in this order:</p><ol><li><code>materials</code></li><li><code>elements</code></li><li><code>boundaryConds</code></li><li><code>initialConds</code></li><li><code>mesh</code></li><li><code>numericalMethod</code></li><li><code>otherParams</code></li></ol><p>Each struct has its own <em>fields</em> with specific names, used to store each corresponding property or information. Each field is obtained or assiged using <em>structName.fieldName</em>. A description of each struct and its fields follows at next.</p><h2 id="The-materials-struct"><a class="docs-heading-anchor" href="#The-materials-struct">The <code>materials</code> struct</a><a id="The-materials-struct-1"></a><a class="docs-heading-anchor-permalink" href="#The-materials-struct" title="Permalink"></a></h2><p>The materials struct contains the information of the material behavior considered for each element.</p><h3 id="material.hyperElasModel"><a class="docs-heading-anchor" href="#material.hyperElasModel"><code>material.hyperElasModel</code></a><a id="material.hyperElasModel-1"></a><a class="docs-heading-anchor-permalink" href="#material.hyperElasModel" title="Permalink"></a></h3><p>This is a cell array with the string-names of the material models used, the options for these names are:</p><ul><li><code>&#39;linearElastic&#39;</code>: for linear behaviour in small strains and displacements. The scalar parameters of this model are <span>$p_1=E$</span> the Young modulus and <span>$p_2=\nu$</span> the Poisson&#39;s ratio.</li><li><code>&#39;SVK&#39;</code>: for a Saint-Venant-Kirchhoff material where the parameters <span>$p_1$</span> and <span>$p_2$</span> are the Lamé parameters and <span>$\textbf{E}$</span> is the Green-Lagrange strain tensor, with the strain-energy density function given by</li></ul><p class="math-container">\[\Psi( \textbf{E} ) = \frac{p_1}{2} tr(\textbf{E})^2 + p_2 tr(\textbf{E}^2)
\quad
p_1 = \frac{ E \nu }{ (1+\nu) (1-2\nu) }
\quad
p_2 = \frac{ E }{ 2 (1+\nu) }\]</p><ul><li><code>&#39;NHC&#39;</code>: for a Neo-Hookean compressible material</li></ul><h3 id="materials.hyperElasParams"><a class="docs-heading-anchor" href="#materials.hyperElasParams"><code>materials.hyperElasParams</code></a><a id="materials.hyperElasParams-1"></a><a class="docs-heading-anchor-permalink" href="#materials.hyperElasParams" title="Permalink"></a></h3><p>A cell structure with vectors with the material properties of each material used in the model. The <span>$i$</span>-th entry of the cell, contains a vector like this:</p><p class="math-container">\[[ p_1 \dots p_{n_P} ]\]</p><p>where <span>$n_P$</span> is the number of parameters of the constitutive model and <span>$\mathbf{p}$</span> is the vector of constitutive parameters.</p><h3 id="material.density"><a class="docs-heading-anchor" href="#material.density"><code>material.density</code></a><a id="material.density-1"></a><a class="docs-heading-anchor-permalink" href="#material.density" title="Permalink"></a></h3><p>This is a cell with the scalar values of the densities of the materials used in the model.</p><h2 id="The-elements-struct"><a class="docs-heading-anchor" href="#The-elements-struct">The <code>elements</code> struct</a><a id="The-elements-struct-1"></a><a class="docs-heading-anchor-permalink" href="#The-elements-struct" title="Permalink"></a></h2><p>The elements struct contains the information about the type of finite elements used and their corresponding parameters.</p><h3 id="elements.elemType"><a class="docs-heading-anchor" href="#elements.elemType"><code>elements.elemType</code></a><a id="elements.elemType-1"></a><a class="docs-heading-anchor-permalink" href="#elements.elemType" title="Permalink"></a></h3><p>cell structure with the string-names of the elements used: <code>node</code>, <code>truss</code>, <code>frame</code>, <code>triangle</code> or <code>tetrahedron</code>. Other auxiliar types such as <code>edge</code> are also available</p><h3 id="elements.elemTypeParams"><a class="docs-heading-anchor" href="#elements.elemTypeParams"><code>elements.elemTypeParams</code></a><a id="elements.elemTypeParams-1"></a><a class="docs-heading-anchor-permalink" href="#elements.elemTypeParams" title="Permalink"></a></h3><p>cell structure with auxiliar params information, required for some element types:</p><ul><li><code>triangle</code> vector with parameters, the first parameter is an integer indicating if plane stress (1) or plane strain (2) case is considered.</li></ul><h3 id="elements.elemTypeGeometry"><a class="docs-heading-anchor" href="#elements.elemTypeGeometry"><code>elements.elemTypeGeometry</code></a><a id="elements.elemTypeGeometry-1"></a><a class="docs-heading-anchor-permalink" href="#elements.elemTypeGeometry" title="Permalink"></a></h3><p>cell structure with the information of the geometry of the element.</p><h4 id="D-elements"><a class="docs-heading-anchor" href="#D-elements">1D elements</a><a id="D-elements-1"></a><a class="docs-heading-anchor-permalink" href="#D-elements" title="Permalink"></a></h4><p>For <code>truss</code> or <code>frame</code> elements a vector with the cross-section properties is required:</p><p class="math-container">\[[ crossSectionType, \,\, crossSectionParam_{1}, \,\,\dots,\,\, crossSectionParam_{n}]\]</p><p>with <span>$n$</span> being the number of parameters of the cross section type, and <code>crossSectionType</code> a paramter setting the type of cross section. As follow:</p><ol><li>general sections areas and inertias are provided</li><li>rectangular sections: thicknesses <span>$t_y$</span> and <span>$t_z$</span> are provided</li><li>circular sections: diameter is provided.</li></ol><p>See the <code>crossSectionProps.m</code> function for more details.</p><p>For <code>edge</code> elements the thickness is expected (for 2D load computations).</p><h4 id="D-elements-2"><a class="docs-heading-anchor" href="#D-elements-2">2D elements</a><a class="docs-heading-anchor-permalink" href="#D-elements-2" title="Permalink"></a></h4><p>For 2D elements such as <code>triangle</code> the thickness is expected to be introduced. The elementtype  </p><h2 id="The-boundaryConds-struct"><a class="docs-heading-anchor" href="#The-boundaryConds-struct">The <code>boundaryConds</code> struct</a><a id="The-boundaryConds-struct-1"></a><a class="docs-heading-anchor-permalink" href="#The-boundaryConds-struct" title="Permalink"></a></h2><h3 id="boundaryConds.loadsCoordSys"><a class="docs-heading-anchor" href="#boundaryConds.loadsCoordSys"><code>boundaryConds.loadsCoordSys</code></a><a id="boundaryConds.loadsCoordSys-1"></a><a class="docs-heading-anchor-permalink" href="#boundaryConds.loadsCoordSys" title="Permalink"></a></h3><p>cell containing the coordinates system for the loads applied in each BC, each entry should be a <code>&#39;global&#39;</code> string or a <code>&#39;local&#39;</code>, or an empty array if no load is applied in that BC setting <code>[]</code>.</p><h3 id="boundaryConds.loadsTimeFact"><a class="docs-heading-anchor" href="#boundaryConds.loadsTimeFact"><code>boundaryConds.loadsTimeFact</code></a><a id="boundaryConds.loadsTimeFact-1"></a><a class="docs-heading-anchor-permalink" href="#boundaryConds.loadsTimeFact" title="Permalink"></a></h3><p>cell with the inline function definitions of load factors of the loads applied of an empty array.</p><h3 id="boundaryConds.loadsBaseVals"><a class="docs-heading-anchor" href="#boundaryConds.loadsBaseVals"><code>boundaryConds.loadsBaseVals</code></a><a id="boundaryConds.loadsBaseVals-1"></a><a class="docs-heading-anchor-permalink" href="#boundaryConds.loadsBaseVals" title="Permalink"></a></h3><p>cell with the (row) vector of the components of the load case</p><p class="math-container">\[[ f_x,  \, m_x, \, f_y, \, m_y, \, f_z, \, m_z ]\]</p><p>where <span>$f_i$</span> are the components of forces and <span>$m_i$</span> are the moments. Both forces or moments are considered per unit of length in the case of <code>truss</code>/<code>frame</code>/<code>edge</code> elements, or per unit of area in the case of <code>triangle</code>.</p><h3 id="boundaryConds.userLoadsFileName"><a class="docs-heading-anchor" href="#boundaryConds.userLoadsFileName"><code>boundaryConds.userLoadsFileName</code></a><a id="boundaryConds.userLoadsFileName-1"></a><a class="docs-heading-anchor-permalink" href="#boundaryConds.userLoadsFileName" title="Permalink"></a></h3><p>cell with filenames of <code>.m</code> function file provided by the user that can be used to apply other forces.</p><h3 id="boundaryConds.imposDispDofs"><a class="docs-heading-anchor" href="#boundaryConds.imposDispDofs"><code>boundaryConds.imposDispDofs</code></a><a id="boundaryConds.imposDispDofs-1"></a><a class="docs-heading-anchor-permalink" href="#boundaryConds.imposDispDofs" title="Permalink"></a></h3><p>cell with vectors of the local degrees of freedom imposed (integers from 1 to 6)</p><h3 id="boundaryConds.imposDispVals"><a class="docs-heading-anchor" href="#boundaryConds.imposDispVals"><code>boundaryConds.imposDispVals</code></a><a id="boundaryConds.imposDispVals-1"></a><a class="docs-heading-anchor-permalink" href="#boundaryConds.imposDispVals" title="Permalink"></a></h3><p>cell with vectors of the values of displacements imposed.</p><h3 id="boundaryConds.springsDofs"><a class="docs-heading-anchor" href="#boundaryConds.springsDofs"><code>boundaryConds.springsDofs</code></a><a id="boundaryConds.springsDofs-1"></a><a class="docs-heading-anchor-permalink" href="#boundaryConds.springsDofs" title="Permalink"></a></h3><p>cell with vectors of the local degrees of freedom with springs (integers from 1 to 6)</p><h3 id="boundaryConds.springsVals"><a class="docs-heading-anchor" href="#boundaryConds.springsVals"><code>boundaryConds.springsVals</code></a><a id="boundaryConds.springsVals-1"></a><a class="docs-heading-anchor-permalink" href="#boundaryConds.springsVals" title="Permalink"></a></h3><p>cell with vectors of the values of the springs stiffnesses.</p><h2 id="The-initialConds-struct"><a class="docs-heading-anchor" href="#The-initialConds-struct">The <code>initialConds</code> struct</a><a id="The-initialConds-struct-1"></a><a class="docs-heading-anchor-permalink" href="#The-initialConds-struct" title="Permalink"></a></h2><p>It initial conditions are homogeneous, then an empty struct should be defined <code>initialConds = struct() ;</code>.</p><h3 id="initialConds.nonHomogeneousInitialCondU0"><a class="docs-heading-anchor" href="#initialConds.nonHomogeneousInitialCondU0"><code>initialConds.nonHomogeneousInitialCondU0</code></a><a id="initialConds.nonHomogeneousInitialCondU0-1"></a><a class="docs-heading-anchor-permalink" href="#initialConds.nonHomogeneousInitialCondU0" title="Permalink"></a></h3><p>matrix to set  the value of displacements at the time step <span>$t$</span>=0. [default: []]</p><h3 id="initialConds.nonHomogeneousInitialCondUdot0"><a class="docs-heading-anchor" href="#initialConds.nonHomogeneousInitialCondUdot0"><code>initialConds.nonHomogeneousInitialCondUdot0</code></a><a id="initialConds.nonHomogeneousInitialCondUdot0-1"></a><a class="docs-heading-anchor-permalink" href="#initialConds.nonHomogeneousInitialCondUdot0" title="Permalink"></a></h3><p>matrix to prescribe the value of velocities at the time step <span>$t$</span>=0. [default: []]</p><h2 id="The-mesh-struct"><a class="docs-heading-anchor" href="#The-mesh-struct">The <code>mesh</code> struct</a><a id="The-mesh-struct-1"></a><a class="docs-heading-anchor-permalink" href="#The-mesh-struct" title="Permalink"></a></h2><p>The mesh struct contains the finite element mesh information.</p><h3 id="mesh.nodesCoords"><a class="docs-heading-anchor" href="#mesh.nodesCoords"><code>mesh.nodesCoords</code></a><a id="mesh.nodesCoords-1"></a><a class="docs-heading-anchor-permalink" href="#mesh.nodesCoords" title="Permalink"></a></h3><p>matrix with the coordinates of all the nodes of the mesh. The <span>$i$</span>-th row contains the three coordinates of the node <span>$i$</span>: <span>$[x_i , \, y_i ,\, z_i]$</span>,</p><h3 id="mesh.conecCell"><a class="docs-heading-anchor" href="#mesh.conecCell"><code>mesh.conecCell</code></a><a id="mesh.conecCell-1"></a><a class="docs-heading-anchor-permalink" href="#mesh.conecCell" title="Permalink"></a></h3><p><a href="https://octave.org/doc/v5.2.0/Cell-Arrays.html">cell array</a> with the elements and node-connectivity information. The <span>$\{i,1\}$</span> entry contains the vector with the MEBI (Material, Element, boundaryConds and initialConds) indexes and the nodes of the <span>$i$</span>-th element. The structure of the vector at each entry of the cell is:</p><p class="math-container">\[ [ materialInd, \, elementInd, \, boundaryCondInd, \, initialCondInd, \, node_1 \dots node_{n} ]\]</p><p>where the five indexes are natural numbers and <span>$n$</span> is the number of nodes required by the type of element. If noproperty is assigned the <span>$0$</span> index can be used, for instance, nodes used to introduced loads should be defined with <code>materialIndex = 0</code>.</p><h2 id="The-analysisSettings-struct"><a class="docs-heading-anchor" href="#The-analysisSettings-struct">The <code>analysisSettings</code> struct</a><a id="The-analysisSettings-struct-1"></a><a class="docs-heading-anchor-permalink" href="#The-analysisSettings-struct" title="Permalink"></a></h2><p>This struct contains the parameters required to apply the numerical method for the resolution of the nonlinear equations:</p><ul><li><code>methodName</code>: string with the name of the method used: <code>&#39;newtonRaphson&#39;</code>,<code>&#39;arcLength&#39;</code>,<code>&#39;newmark&#39;</code>,<code>&#39;alphaHHT&#39;</code>.</li><li><code>stopTolDeltau</code>: float with tolerance for convergence in relative norm of displacements increment</li><li><code>stopTolForces</code>: float with tolerance for convergence in relative norm of residual loads</li><li><code>stopTolIts</code>: integer with maximum number of iterations per time step</li><li><code>deltaT</code>: time step</li><li><code>finalTime</code>: final time of simulation</li><li><code>incremArcLen</code>: with of cylinder for arcLength method</li><li><code>deltaNM</code>: delta parameter of newmark method</li><li><code>alphaNM</code>: alpha parameter of newmark method</li><li><code>alphaHHT</code>: alpha parameter of alpha-HHT method</li><li><code>solverLang</code>: parameter setting the programming language of the solver: <code>Octave</code> (default) or <code>C++</code> (binaries required).</li></ul><p>another additional optional parameters are:</p><ul><li><code>iniMatUs</code>: a matrix with initial solutions for each time step.</li></ul><h2 id="The-otherParams-struct"><a class="docs-heading-anchor" href="#The-otherParams-struct">The <code>otherParams</code> struct</a><a id="The-otherParams-struct-1"></a><a class="docs-heading-anchor-permalink" href="#The-otherParams-struct" title="Permalink"></a></h2><ul><li><code>problemName</code>: string with the name of the problem, to be used in outputs.</li><li><code>plotsFormat</code>: strint indicating the format of the output. Use <strong>&#39;vtk&#39;</strong> for vtk output.</li><li><code>controlDofs</code>: matrix with information of the degrees of freedom to compute and control. Each row should contain this form: <code>[ node localdof ]</code>.</li><li><code>storeBoolean</code>: boolean to store the results of the current iteration such as the displacements, tangent matrices, normal forces and stresses. [default: 1]</li><li><code>nodalDispDamping</code>: scalar value of a linear viscous damping factor applied for all the displacement degrees of freedom [default: 0]</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../install/">« Installation</a><a class="docs-footer-nextpage" href="../../corotationalFrameElement/">Corotational frame »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.11 on <span class="colophon-date" title="Sunday 16 January 2022 14:03">Sunday 16 January 2022</span>. Using Julia version 1.6.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
