<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>- · ONSAS.m</title><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><script src="../../../../copy.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.png" alt="ONSAS.m logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">ONSAS.m</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Learning by examples</span><ul><li><a class="tocitem" href="../../../staticVonMisesTruss/">Static Von-Mises Truss</a></li><li><a class="tocitem" href="../../../uniaxialExtension/">Uniaxial extension</a></li><li><a class="tocitem" href="../../../cantileverBeam/">Cantilever Beam</a></li></ul></li><li><span class="tocitem">User guide</span><ul><li><a class="tocitem" href="../../../howtouse/install/">Installation</a></li><li><a class="tocitem" href="../../../howtouse/creatingModels/">Creating Models</a></li><li><a class="tocitem" href="../../../corotationalFrameElement/">Corotational frame</a></li><li><a class="tocitem" href="../../../theory/references/">References</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>-</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>-</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/ONSAS/ONSAS.m/blob/master/docs/src/tutorials/StaticVonMisesTruss/staticVonMisesTruss.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><p>%## Static Von Mises Truss example %#–- %# %#In this tutorial, the Static Von Mises Truss example and its resolutions using ONSAS are described. The aim of this example is to validate the Newton-Raphson method implementation by comparing the results provided by ONSAS with the analytical solution. The Octave script of this example is available at <a href="https://github.com/ONSAS/ONSAS.m/blob/master/examples/staticVonMisesTruss/onsasExample_staticVonMisesTruss.m">this url</a>. %#  %#The structural model is formed by two truss elements with length <span>$L$</span> as it is shown in the figure, with the node <span>$2$</span> submitted to a nodal load <span>$P$</span> and restrained to move in the <span>$x-z$</span> plane and nodes <span>$1$</span> and <span>$3$</span> fixed. %# %#<code>@raw html %#&lt;img src=&quot;https://raw.githubusercontent.com/ONSAS/ONSAS_docs/master/docs/src/tutorials/StaticVonMisesTruss/vonMisesTruss.svg&quot; alt=&quot;structure diagram&quot; width=&quot;500&quot;/&gt; %#</code> %# %#Before defining the structs, the workspace is cleaned, the ONSAS directory is added to the path and scalar auxiliar parameters are defined. close all, clear all ; addpath( [ pwd &#39;/../../src&#39;] );  E = 210e9 ;  A = 2.5e-3 ; ang1 = 65 ; L = 2 ; nu = 0 ; % x and z coordinates auxx = cos( ang1<em>pi/180 ) * L ;  auxz = sin( ang1</em>pi/180 ) * L ; %# %### MEBI parameters %#––––––––– %# %#The modelling of the structure begins with the definition of the Material-Element-BoundaryConditions-InitialConditions (MEBI) parameters. %# %#### materials %# Since both bars are formed by the same material all the fields of the <code>materials</code> struct will have only one entry. contains only one vector. The constitutive behavior is the SaintVenantKirchhoff: materials.hyperElasModel  = { &#39;1DrotEngStrain&#39;} ; materials.hyperElasParams = { [ E nu ] } ; %# and the parameters of this model are the Young modulus and Poisson ratio. %# %#### elements %# %#Two different types of elements are considered, node and truss. The nodes will be assigned in the first entry (index <span>$1$</span>) and the truss at the index <span>$2$</span>. The elemType field is then: elements.elemType = { &#39;node&#39;,&#39;truss&#39; } ; %# for the geometries, the node has no geometry to assign (empty array), and the truss elements will be set as a square-cross section, then the elemTypeGeometry field is: elements.elemTypeGeometry = { [], [2 sqrt(A) sqrt(A) ] }; elements.elemTypeParams = { [], 1 }; %# %#### boundaryConds %# %# The elements are submitted to two different BC settings. The nodes <span>$1$</span> and <span>$3$</span> are fixed without applied loads (first BC), and node <span>$2$</span> has a constraint in displacement and an applied load (second BC). The load factor function of the second BC is set so that the target load 1.5e8 is reached at 1 second. The density is set to zero, then no inertial effects are considered. %# boundaryConds.loadsCoordSys = { []        ; &#39;global&#39;   } ; boundaryConds.loadsTimeFact = { []        ; @(t) 1.5e8<em>t     } ; boundaryConds.loadsBaseVals = { []        ; [ 0 0 0 0 -1 0 ] } ; boundaryConds.imposDispDofs = { [ 1 3 5 ] ; 3          } ; boundaryConds.imposDispVals = { [ 0 0 0 ] ; 0          } ; %# %#### initial Conditions %# homogeneous initial conditions are considered, then an empty struct is set: initialConds                = struct() ; %# %### mesh parameters %#––––––––– %#The coordinates of the nodes of the mesh are given by the matrix: mesh.nodesCoords = [      0  0     0  ; ...                        auxx  0  auxz  ; ...                      2</em>auxx  0     0  ] ; %#The connectivity is introduced using the <em>conecCell</em>. Each entry of the cell contains a vector with the four indexes of the MEBI parameters, followed by the indexes of the nodes of the element (node connectivity). For didactical purposes each element entry is commented. First the cell is initialized: mesh.conecCell = { } ; %# then the first two nodes are defined, both with material zero (since nodes dont have material), the first element type (the first entry of the cells of the <em>elements</em> struct), and the first entry of the cells of the boundary conditions struct. No non-homogeneous initial condition is considered (then zero is used) and finally the node is included. mesh.conecCell{ 1, 1 } = [ 0 1 1 0  1   ] ;  mesh.conecCell{ 2, 1 } = [ 0 1 1 0  3   ] ;  %# the following case only differs in the boundary condition mesh.conecCell{ 3, 1 } = [ 0 1 2 0  2   ] ;  %# the truss elements are formed by the first material, the second type of element, and no boundary condition is applied. mesh.conecCell{ 4, 1 } = [ 1 2 0 0  1 2 ] ; mesh.conecCell{ 5, 1 } = [ 1 2 0 0  2 3 ] ;  %# %### analysisSettings %#––––––––– analysisSettings.methodName    = &#39;newtonRaphson&#39; ; analysisSettings.deltaT        = 0.1 ; analysisSettings.finalTime     =   1 ; analysisSettings.stopTolDeltau =   1e-6 ; analysisSettings.stopTolForces =   1e-6 ; analysisSettings.stopTolIts    =   10 ; analysisSettings.finalTime     =   1 ; %# %### otherParams %#––––––––– otherParams.problemName = &#39;staticVonMisesTruss<em>NR&#39;; otherParams.plotParamsVector = [3]; otherParams.controlDofs = [2 5 ]; %# %### Analysis case 1: NR with Rotated Eng Strain %#––––––––– %# In the first case ONSAS is run and the solution at the dof of interest is stored . [matUs, loadFactorsMat] = ONSAS( materials, elements, boundaryConds, initialConds, mesh, analysisSettings, otherParams ) ; controlDispsNREngRot =  -matUs(11,:) ; loadFactorsNREngRot  =  loadFactorsMat(:,2) ; %# and the analytical value of the load factors is computed analyticLoadFactorsNREngRot = @(w) -2 * E<em>A</em> ...      ( (  (auxz+(-w)).^2 + auxx^2 - L^2 ) ./ (L * ( L + sqrt((auxz+(-w)).^2 + auxx^2) )) ) ...   .* (auxz+(-w)) ./ ( sqrt((auxz+(-w)).^2 + auxx^2) )  ;  %# %# %### Results verification %#––––––––– %# %#### numerical verification [ analyticLoadFactorsNREngRot( controlDispsNREngRot)&#39; loadFactorsNREngRot ] difLoad = analyticLoadFactorsNREngRot( controlDispsNREngRot)&#39; - loadFactorsNREngRot ; verifBoolean = ( norm( difLoad ) / norm( loadFactorsNREngRot ) ) &lt;  1e-4  %#### Plots lw = 2.0 ; ms = 11 ; plotfontsize = 22 ; figure plot( controlDispsNREngRot, analyticLoadFactorsNREngRot( controlDispsNREngRot) ,&#39;b-x&#39; , &#39;linewidth&#39;, lw,&#39;markersize&#39;,ms ) hold on, grid on plot( controlDispsNREngRot, loadFactorsNREngRot, &#39;k-o&#39; , &#39;linewidth&#39;, lw,&#39;markersize&#39;,ms ) labx = xlabel(&#39;Displacement&#39;);   laby = ylabel(&#39;<span>$\lambda$</span>&#39;) ; legend( &#39;analytic&#39;, &#39;NR-RotEng&#39;, &#39;location&#39;,&#39;North&#39;) set(gca, &#39;linewidth&#39;, 1.2, &#39;fontsize&#39;, plotfontsize ) set(labx, &#39;FontSize&#39;, plotfontsize); set(laby, &#39;FontSize&#39;, plotfontsize) ; print(&#39;vonMisesTrussCheck.png&#39;,&#39;-dpng&#39;) %# %#```@raw html %#&lt;img src=&quot;https://raw.githubusercontent.com/ONSAS/ONSAS</em>docs/master/docs/src/tutorials/StaticVonMisesTruss/vonMisesTrussCheck.png&quot; alt=&quot;plot check&quot; width=&quot;500&quot;/&gt; %#``` %#</p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.11 on <span class="colophon-date" title="Sunday 16 January 2022 14:12">Sunday 16 January 2022</span>. Using Julia version 1.6.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
